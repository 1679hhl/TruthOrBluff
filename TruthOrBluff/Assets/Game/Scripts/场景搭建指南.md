# 3Dåœ†æ¡Œæ¸¸æˆåœºæ™¯æ­å»ºæŒ‡å—

## ğŸ¯ ç³»ç»Ÿæ¶æ„æ€»è§ˆ

```
GameTable (åœºæ™¯æ ¹å¯¹è±¡)
â”œâ”€â”€ PlayerSpawnManager (ç®¡ç†ç©å®¶ç”Ÿæˆ)
â”œâ”€â”€ TableModel (3Dæ¡Œå­æ¨¡å‹)
â”œâ”€â”€ CardPile (æ‰“å‡ºçš„å¡ç‰Œå †æ”¾åŒº)
â””â”€â”€ Lighting & Camera
```

---

## ğŸ“‹ æ­å»ºæ­¥éª¤

### æ­¥éª¤1: åˆ›å»ºåŸºç¡€åœºæ™¯ç»“æ„

1. **åˆ›å»ºç©ºå¯¹è±¡ä½œä¸ºæ¸¸æˆæ ¹èŠ‚ç‚¹**
   ```
   å³é”® Hierarchy â†’ Create Empty
   é‡å‘½åä¸º "GameTable"
   ä½ç½®è®¾ä¸º (0, 0, 0)
   ```

2. **æ·»åŠ  PlayerSpawnManager**
   ```
   åœ¨ GameTable ä¸‹åˆ›å»ºç©ºå¯¹è±¡ "PlayerSpawnManager"
   æ·»åŠ ç»„ä»¶: PlayerSpawnManager
   ```

3. **è®¾ç½®æ¡Œå­ä¸­å¿ƒç‚¹**
   ```
   åœ¨ GameTable ä¸‹åˆ›å»ºç©ºå¯¹è±¡ "TableCenter"
   è¿™ä¸ªä½ç½®å°±æ˜¯ç©å®¶å›´ç»•çš„ä¸­å¿ƒç‚¹
   ```

---

### æ­¥éª¤2: é…ç½® PlayerSpawnManager

åœ¨ Inspector ä¸­è®¾ç½®ï¼š

#### åŸºç¡€é…ç½®
- **Table Center**: æ‹–æ‹½ `TableCenter` å¯¹è±¡
- **Table Radius**: `3` (ç©å®¶è·ç¦»æ¡Œå­ä¸­å¿ƒ3ç±³)
- **Player Height**: `0` (ä¸æ¡Œé¢åŒé«˜)

#### è§’è‰²é¢„åˆ¶ä½“
- **Character Prefabs**: å¤§å°è®¾ä¸º 4ï¼ˆæˆ–æ›´å¤šï¼‰
  - æ‹–å…¥ä½ çš„è§’è‰²æ¨¡å‹é¢„åˆ¶ä½“ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
  - æš‚æ—¶å¯ä»¥ç•™ç©ºï¼Œåé¢å†æ·»åŠ 

#### ç©å®¶æ§åˆ¶å™¨
- **Player Controller Prefab**: éœ€è¦åˆ›å»ºï¼ˆè§æ­¥éª¤3ï¼‰

---

### æ­¥éª¤3: åˆ›å»º PlayerController é¢„åˆ¶ä½“

#### 3.1 åˆ›å»ºåŸºç¡€ç»“æ„

```
åˆ›å»ºç©ºå¯¹è±¡ "PlayerController"
â”œâ”€â”€ CharacterRoot (è§’è‰²æ¨¡å‹æŒ‚è½½ç‚¹)
â”œâ”€â”€ WorldSpaceUI (Canvas - World Space)
â”‚   â”œâ”€â”€ NameText (TextMeshPro)
â”‚   â”œâ”€â”€ HandCountText (TextMeshPro)
â”‚   â””â”€â”€ StatusIndicator (Image)
â””â”€â”€ CardHoldPoint (æ‰‹ç‰ŒæŒæ¡ç‚¹)
```

#### 3.2 é…ç½® WorldSpaceUI

1. æ·»åŠ  Canvas ç»„ä»¶
   - Render Mode: `World Space`
   - Width: `200`
   - Height: `100`
   - Position: `(0, 2, 0)` (è§’è‰²å¤´é¡¶ä¸Šæ–¹)
   - Scale: `(0.01, 0.01, 0.01)`

2. æ·»åŠ  UI å…ƒç´ 
   ```
   - NameText: æ˜¾ç¤ºç©å®¶åå­—
     Position: (0, 30, 0)
     Font Size: 24
     
   - HandCountText: æ˜¾ç¤ºæ‰‹ç‰Œæ•°
     Position: (0, 0, 0)
     Font Size: 18
     
   - StatusIndicator: çŠ¶æ€æŒ‡ç¤ºå™¨
     Position: (0, -30, 0)
     Size: (50, 50)
   ```

#### 3.3 é…ç½® PlayerController ç»„ä»¶

åœ¨æ ¹å¯¹è±¡ä¸Šæ·»åŠ  `PlayerController` ç»„ä»¶ï¼Œè®¾ç½®å¼•ç”¨ï¼š

- **Character Root**: æ‹–æ‹½ `CharacterRoot` å¯¹è±¡
- **World Space Canvas**: æ‹–æ‹½ `WorldSpaceUI` Canvas
- **Name Text**: æ‹–æ‹½ `NameText`
- **Hand Count Text**: æ‹–æ‹½ `HandCountText`
- **Status Indicator**: æ‹–æ‹½ `StatusIndicator` Image
- **Card Hold Point**: æ‹–æ‹½ `CardHoldPoint`

#### 3.4 ä¿å­˜ä¸ºé¢„åˆ¶ä½“

```
å°†é…ç½®å¥½çš„ PlayerController æ‹–åˆ° Assets æ–‡ä»¶å¤¹
é‡å‘½åä¸º "PlayerController"
åˆ é™¤åœºæ™¯ä¸­çš„ä¸´æ—¶å¯¹è±¡
```

---

### æ­¥éª¤4: é…ç½® GamePresenter

1. **åœ¨åœºæ™¯ä¸­åˆ›å»º GamePresenter å¯¹è±¡**
   ```
   åˆ›å»ºç©ºå¯¹è±¡ "GamePresenter"
   æ·»åŠ ç»„ä»¶: GamePresenter
   ```

2. **è®¾ç½®å¼•ç”¨**
   - **Spawn Manager**: æ‹–æ‹½åœºæ™¯ä¸­çš„ `PlayerSpawnManager`
   
3. **åˆ›å»ºå±å¹•UIï¼ˆå¯é€‰ï¼‰**
   ```
   åˆ›å»º Canvas (Screen Space - Overlay)
   â”œâ”€â”€ GameStatusText (æ¸¸æˆçŠ¶æ€)
   â”œâ”€â”€ TableRankText (æ¡Œé¢ç‰Œé¢)
   â”œâ”€â”€ ChamberCountText (æƒ©ç½šè½¨)
   â””â”€â”€ MessageText (æ¶ˆæ¯æç¤º)
   ```

4. **è¿æ¥UIå¼•ç”¨**
   - å°†åˆ›å»ºçš„UIå…ƒç´ æ‹–åˆ° GamePresenter å¯¹åº”å­—æ®µ

---

### æ­¥éª¤5: é…ç½® GameRunner

1. **åœ¨åœºæ™¯ä¸­åˆ›å»º GameRunner å¯¹è±¡**
   ```
   åˆ›å»ºç©ºå¯¹è±¡ "GameRunner"
   æ·»åŠ ç»„ä»¶: GameRunner
   ```

2. **è®¾ç½®æ¸¸æˆå‚æ•°**
   - Player Count: `4`
   - Table Rank: `Q`
   - Bullet Slot: `4`
   - Bot Types: `[1, 2, 0, 1]`

---

### æ­¥éª¤6: æ·»åŠ 3Dæ¡Œå­æ¨¡å‹ï¼ˆå¯é€‰ä½†æ¨èï¼‰

1. **å¯¼å…¥æˆ–åˆ›å»ºæ¡Œå­æ¨¡å‹**
   ```
   æ–¹å¼1: ä½¿ç”¨ Unity åŸå§‹ä½“
     - åˆ›å»º Cylinder
     - Scale: (3, 0.1, 3)
     - æè´¨: æœ¨å¤´çº¹ç†
     
   æ–¹å¼2: å¯¼å…¥è‡ªå®šä¹‰æ¨¡å‹
     - æ‹–å…¥ä½ çš„æ¡Œå­ FBX æ¨¡å‹
   ```

2. **æ”¾ç½®åœ¨åœºæ™¯ä¸­**
   ```
   Position: (0, 0, 0) ä¸ TableCenter å¯¹é½
   ```

---

### æ­¥éª¤7: è®¾ç½®æ‘„åƒæœº

#### ä¿¯è§†è§’åº¦ï¼ˆæ¨èï¼‰

```
Camera Position: (0, 10, -8)
Camera Rotation: (45, 0, 0)
Field of View: 60
```

#### å›ºå®šè§†è§’
- å¯ä»¥çœ‹åˆ°æ‰€æœ‰ç©å®¶
- é€‚åˆç­–ç•¥æ¸¸æˆ

#### å¯æ—‹è½¬è§†è§’ï¼ˆé«˜çº§ï¼‰
- æ·»åŠ  `Cinemachine` è™šæ‹Ÿæ‘„åƒæœº
- è®¾ç½®è·Ÿéšç›®æ ‡ä¸ºæ¡Œå­ä¸­å¿ƒ
- å…è®¸ç©å®¶æ‹–æ‹½æ—‹è½¬è§†è§’

---

### æ­¥éª¤8: æ·»åŠ å…‰ç…§

```
1. Directional Light
   - Rotation: (50, -30, 0)
   - Intensity: 1
   
2. ç¯å¢ƒå…‰ï¼ˆå¯é€‰ï¼‰
   - Window â†’ Rendering â†’ Lighting
   - Environment Lighting: 
     - Source: Skybox
     - Intensity Multiplier: 1.5
```

---

## ğŸ¨ å¿«é€Ÿæµ‹è¯•åœºæ™¯

å¦‚æœä½ æš‚æ—¶æ²¡æœ‰3Dæ¨¡å‹ï¼Œå¯ä»¥ç”¨è¿™ä¸ªç®€åŒ–ç‰ˆæµ‹è¯•ï¼š

### ä¸´æ—¶è§’è‰²é¢„åˆ¶ä½“

```
åˆ›å»º Cube (ä»£è¡¨è§’è‰²)
â”œâ”€â”€ ä½ç½®: (0, 0.5, 0)
â”œâ”€â”€ ç¼©æ”¾: (0.5, 1, 0.3)
â””â”€â”€ æè´¨: éšæœºé¢œè‰²

ä¿å­˜ä¸ºé¢„åˆ¶ä½“ "TestCharacter"
```

### ä¸´æ—¶æ¡Œå­

```
åˆ›å»º Cylinder
â”œâ”€â”€ ä½ç½®: (0, 0, 0)
â”œâ”€â”€ ç¼©æ”¾: (3, 0.1, 3)
â””â”€â”€ æè´¨: ç°è‰²
```

---

## â–¶ï¸ è¿è¡Œæµ‹è¯•

### æ–¹å¼1: ç¼–è¾‘å™¨å†…æµ‹è¯•

1. ç‚¹å‡» Play
2. åº”è¯¥çœ‹åˆ°4ä¸ªç©å®¶å›´ç€æ¡Œå­ç”Ÿæˆ
3. ä½¿ç”¨ Scene è§†å›¾çš„ Gizmos æŸ¥çœ‹ç©å®¶ä½ç½®

### æ–¹å¼2: ä½¿ç”¨ GUI æŒ‰é’®

1. Play åå¯ä»¥çœ‹åˆ°å·¦ä¸Šè§’çš„æŒ‰é’®
2. ç‚¹å‡»"æ­¥è¿›"é€æ­¥æ‰§è¡Œæ¸¸æˆ
3. ç‚¹å‡»"è¿è¡Œåˆ°åº•"å¿«é€Ÿå®Œæˆæ¸¸æˆ

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### Q: ç©å®¶æ²¡æœ‰ç”Ÿæˆï¼Ÿ

æ£€æŸ¥ï¼š
1. `PlayerSpawnManager` çš„ `Player Controller Prefab` æ˜¯å¦å·²è®¾ç½®
2. `GamePresenter` çš„ `Spawn Manager` å¼•ç”¨æ˜¯å¦æ­£ç¡®
3. æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### Q: UIä¸æ˜¾ç¤ºï¼Ÿ

æ£€æŸ¥ï¼š
1. Canvas çš„ Render Mode æ˜¯å¦ä¸º `World Space`
2. Canvas Scale æ˜¯å¦å¤ªå¤§æˆ–å¤ªå°
3. TextMeshPro å­—ä½“æ˜¯å¦æ­£ç¡®

### Q: è§’è‰²ä½ç½®ä¸å¯¹ï¼Ÿ

è°ƒæ•´ï¼š
1. `PlayerSpawnManager` çš„ `Table Radius`
2. `Player Height`
3. åœ¨ Scene è§†å›¾ä¸­æŸ¥çœ‹ Gizmos é¢„è§ˆ

### Q: è§’è‰²æ²¡æœ‰æœå‘æ¡Œå­ä¸­å¿ƒï¼Ÿ

ç¡®è®¤ï¼š
1. `Table Center` å¼•ç”¨æ­£ç¡®
2. è§’è‰²çš„å‰æ–¹è½´æ˜¯ Z è½´ï¼ˆUnity é»˜è®¤ï¼‰

---

## ğŸ“Š Scene è§†å›¾ Gizmos è¯´æ˜

è¿è¡Œå‰ï¼Œåœ¨ Scene è§†å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼š
- ğŸŸ¡ **é»„è‰²åœ†åœˆ**: ç©å®¶ç”Ÿæˆçš„åœ†å½¢è½¨è¿¹
- ğŸ”µ **è“è‰²çƒä½“**: 4ä¸ªç©å®¶çš„é¢„è§ˆä½ç½®
- â¡ï¸ **ç®­å¤´**: ç©å®¶çš„æœå‘ï¼ˆæŒ‡å‘æ¡Œå­ä¸­å¿ƒï¼‰

---

## ğŸ¯ ä¸‹ä¸€æ­¥ä¼˜åŒ–

### ç¾æœ¯èµ„æº
1. æ›¿æ¢ä¸´æ—¶ Cube ä¸ºçœŸå®3Dè§’è‰²
2. æ·»åŠ è§’è‰²åŠ¨ç”»ï¼ˆIdle, PlayCard, Win, Loseï¼‰
3. è®¾è®¡ç²¾ç¾çš„æ¡Œå­å’Œå¡ç‰Œæ¨¡å‹

### åŠŸèƒ½å¢å¼º
1. æ·»åŠ æ‰‹ç‰Œ3Dæ˜¾ç¤ºï¼ˆæ‰‹æŒå¡ç‰Œï¼‰
2. æ·»åŠ å¡ç‰Œæ‰“å‡ºåŠ¨ç”»ï¼ˆé£å‘æ¡Œé¢ä¸­å¤®ï¼‰
3. æ·»åŠ ç²’å­ç‰¹æ•ˆï¼ˆå‡ºç‰Œã€èƒœåˆ©ï¼‰

### äº¤äº’ä¼˜åŒ–
1. ç‚¹å‡»ç©å®¶æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
2. æ‘„åƒæœºå¹³æ»‘è·Ÿéšå½“å‰å›åˆç©å®¶
3. æ·»åŠ éŸ³æ•ˆå’ŒèƒŒæ™¯éŸ³ä¹

---

## ğŸ“ æœ€ç»ˆåœºæ™¯å±‚çº§å‚è€ƒ

```
Hierarchy:
â”œâ”€â”€ GameTable
â”‚   â”œâ”€â”€ PlayerSpawnManager
â”‚   â”œâ”€â”€ TableCenter (Empty)
â”‚   â””â”€â”€ TableModel (3D Mesh)
â”œâ”€â”€ GameRunner
â”œâ”€â”€ GamePresenter
â”œâ”€â”€ Main Camera
â”œâ”€â”€ Directional Light
â””â”€â”€ Canvas (Screen Space UI)
    â”œâ”€â”€ GameStatusText
    â”œâ”€â”€ TableRankText
    â”œâ”€â”€ ChamberCountText
    â””â”€â”€ MessageText
```

---

**ç°åœ¨ä½ å¯ä»¥å¼€å§‹æ­å»ºåœºæ™¯äº†ï¼** ğŸ®

æŒ‰ç…§è¿™ä¸ªæŒ‡å—ä¸€æ­¥æ­¥æ“ä½œï¼Œå¦‚æœé‡åˆ°é—®é¢˜éšæ—¶å‘Šè¯‰æˆ‘ã€‚
